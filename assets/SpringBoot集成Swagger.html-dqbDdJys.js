import{_ as n,o as a,c as s,d as t}from"./app-HBA039kk.js";const p="/assets/20240306165733-z18TzaG4.png",o="/assets/20240307112621-32Q3qrCs.png",e={},c=t(`<h1 id="springboot集成swagger" tabindex="-1"><a class="header-anchor" href="#springboot集成swagger"><span>SpringBoot集成Swagger</span></a></h1><h2 id="集成springdoc-openapi" tabindex="-1"><a class="header-anchor" href="#集成springdoc-openapi"><span>集成springdoc-openapi</span></a></h2><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>版本信息</p><ul><li><p>Java 17</p></li><li><p>SpringBoot 3.2.3</p></li><li><p>springdoc-openapi 2.3.0</p></li></ul><p>参考：</p><ul><li>https://springdoc.org/</li></ul></div><h3 id="添加依赖" tabindex="-1"><a class="header-anchor" href="#添加依赖"><span>添加依赖</span></a></h3><p>添加<code>springdoc-openapi-starter-webmvc-ui</code>依赖，包含了<code>swagger-ui</code></p><div class="language-xml" data-ext="xml" data-title="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- https://mvnrepository.com/artifact/org.springdoc/springdoc-openapi-starter-webmvc-ui --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springdoc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>springdoc-openapi-starter-webmvc-ui<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.3.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>访问swagger-ui页面：http://server:port/context-path/swagger-ui.html</p><p><img src="`+p+`" alt=""></p><p>访问OpenAPI Json数据：http://server:port/context-path/v3/api-docs</p><div class="language-json" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;openapi&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3.0.1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;info&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OpenAPI definition&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;v0&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;servers&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://localhost:9000&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Generated server url&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;paths&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;components&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="核心配置" tabindex="-1"><a class="header-anchor" href="#核心配置"><span>核心配置</span></a></h3><h4 id="openapi" tabindex="-1"><a class="header-anchor" href="#openapi"><span>OpenAPI</span></a></h4><div class="language-properties" data-ext="properties" data-title="properties"><pre class="language-properties"><code><span class="token key attr-name">springdoc.api-docs.enabled</span><span class="token punctuation">=</span><span class="token value attr-value">true</span>
<span class="token key attr-name">springdoc.api-docs.path</span><span class="token punctuation">=</span><span class="token value attr-value">/v3/api-docs</span>
<span class="token key attr-name">springdoc.packages-to-scan</span><span class="token punctuation">=</span><span class="token value attr-value">me.lyp.integration.swagger.controller</span>
<span class="token key attr-name">springdoc.packages-to-exclude</span><span class="token punctuation">=</span>
</code></pre></div><h4 id="swagger-ui" tabindex="-1"><a class="header-anchor" href="#swagger-ui"><span>swagger-ui</span></a></h4><div class="language-properties" data-ext="properties" data-title="properties"><pre class="language-properties"><code><span class="token key attr-name">springdoc.swagger-ui.enabled</span><span class="token punctuation">=</span><span class="token value attr-value">true</span>
<span class="token key attr-name">springdoc.swagger-ui.path</span><span class="token punctuation">=</span><span class="token value attr-value">/swagger-ui.html</span>
</code></pre></div><h3 id="使用openapi注解生成文档信息" tabindex="-1"><a class="header-anchor" href="#使用openapi注解生成文档信息"><span>使用OpenApi注解生成文档信息</span></a></h3><h4 id="配置文档基本信息" tabindex="-1"><a class="header-anchor" href="#配置文档基本信息"><span>配置文档基本信息</span></a></h4><p>使用<code>@OpenAPIDefinition</code>注解配置文档基本信息</p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@OpenAPIDefinition</span><span class="token punctuation">(</span>
        info <span class="token operator">=</span> <span class="token annotation punctuation">@Info</span><span class="token punctuation">(</span>title <span class="token operator">=</span> <span class="token string">&quot;API接口文档&quot;</span><span class="token punctuation">,</span>
                description <span class="token operator">=</span> <span class="token string">&quot;API接口文档信息&quot;</span><span class="token punctuation">,</span>
                version <span class="token operator">=</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>
                contact <span class="token operator">=</span> <span class="token annotation punctuation">@Contact</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;lyp&quot;</span><span class="token punctuation">,</span> email <span class="token operator">=</span> <span class="token string">&quot;bitbitpulse@gmail.com&quot;</span><span class="token punctuation">,</span> url <span class="token operator">=</span> <span class="token string">&quot;https://bitbitpulse.github.io&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SwaggerConfig</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>
</code></pre></div><h4 id="配置api接口信息" tabindex="-1"><a class="header-anchor" href="#配置api接口信息"><span>配置API接口信息</span></a></h4><p>配置API接口信息，常用的几个注解如下：</p><ul><li><code>@Tags</code>和<code>@Tag</code></li><li><code>@Operation</code></li><li><code>@Header</code></li><li><code>@Parameters</code> 和 <code>@Parameter</code></li><li><code>@RequestBody</code></li><li><code>@ApiResponses</code>和<code>@ApiResponse</code></li></ul><p>推荐为每个Controller定义Controller接口，用OpenApi注解标记Controller接口，而不是Controller类，实现文档信息的分离。</p><p>例如：</p><p><em>IBookController.java</em></p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token annotation punctuation">@Tag</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;图书&quot;</span><span class="token punctuation">,</span> description <span class="token operator">=</span> <span class="token string">&quot;图书增删改查API接口&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">IBookController</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Operation</span><span class="token punctuation">(</span>tags <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;图书&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> summary <span class="token operator">=</span> <span class="token string">&quot;新增图书&quot;</span><span class="token punctuation">,</span> description <span class="token operator">=</span> <span class="token string">&quot;新增图书接口&quot;</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@RequestBody</span><span class="token punctuation">(</span>content <span class="token operator">=</span> <span class="token annotation punctuation">@Content</span><span class="token punctuation">(</span>mediaType <span class="token operator">=</span> <span class="token class-name">MediaType</span><span class="token punctuation">.</span><span class="token constant">APPLICATION_JSON_VALUE</span><span class="token punctuation">,</span> schema <span class="token operator">=</span> <span class="token annotation punctuation">@Schema</span><span class="token punctuation">(</span>implementation <span class="token operator">=</span> <span class="token class-name">Book</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> description <span class="token operator">=</span> <span class="token string">&quot;新增图书请求体&quot;</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@ApiResponse</span><span class="token punctuation">(</span>content <span class="token operator">=</span> <span class="token annotation punctuation">@Content</span><span class="token punctuation">(</span>mediaType <span class="token operator">=</span> <span class="token class-name">MediaType</span><span class="token punctuation">.</span><span class="token constant">APPLICATION_JSON_VALUE</span><span class="token punctuation">,</span> schema <span class="token operator">=</span> <span class="token annotation punctuation">@Schema</span><span class="token punctuation">(</span>implementation <span class="token operator">=</span> <span class="token class-name">BookVO</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> description <span class="token operator">=</span> <span class="token string">&quot;新增图书响应体&quot;</span><span class="token punctuation">)</span>
    <span class="token class-name">BookVO</span> <span class="token function">addBook</span><span class="token punctuation">(</span><span class="token class-name">Book</span> book<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Operation</span><span class="token punctuation">(</span>tags <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;图书&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> summary <span class="token operator">=</span> <span class="token string">&quot;更新图书&quot;</span><span class="token punctuation">,</span> description <span class="token operator">=</span> <span class="token string">&quot;更新图书API接口&quot;</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@RequestBody</span><span class="token punctuation">(</span>content <span class="token operator">=</span> <span class="token annotation punctuation">@Content</span><span class="token punctuation">(</span>mediaType <span class="token operator">=</span> <span class="token class-name">MediaType</span><span class="token punctuation">.</span><span class="token constant">APPLICATION_JSON_VALUE</span><span class="token punctuation">,</span> schema <span class="token operator">=</span> <span class="token annotation punctuation">@Schema</span><span class="token punctuation">(</span>implementation <span class="token operator">=</span> <span class="token class-name">Book</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> description <span class="token operator">=</span> <span class="token string">&quot;更新图书请求体&quot;</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@ApiResponse</span><span class="token punctuation">(</span>content <span class="token operator">=</span> <span class="token annotation punctuation">@Content</span><span class="token punctuation">(</span>mediaType <span class="token operator">=</span> <span class="token class-name">MediaType</span><span class="token punctuation">.</span><span class="token constant">APPLICATION_JSON_VALUE</span><span class="token punctuation">,</span> schema <span class="token operator">=</span> <span class="token annotation punctuation">@Schema</span><span class="token punctuation">(</span>implementation <span class="token operator">=</span> <span class="token class-name">BookVO</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> description <span class="token operator">=</span> <span class="token string">&quot;更新图书响应体&quot;</span><span class="token punctuation">)</span>
    <span class="token class-name">BookVO</span> <span class="token function">updateBook</span><span class="token punctuation">(</span><span class="token class-name">Long</span> id<span class="token punctuation">,</span> <span class="token class-name">Book</span> book<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Operation</span><span class="token punctuation">(</span>tags <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;图书&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> summary <span class="token operator">=</span> <span class="token string">&quot;删除图书&quot;</span><span class="token punctuation">,</span> description <span class="token operator">=</span> <span class="token string">&quot;删除图书API接口&quot;</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@Parameters</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token annotation punctuation">@Parameter</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;ids&quot;</span><span class="token punctuation">,</span> description <span class="token operator">=</span> <span class="token string">&quot;图书ID列表&quot;</span><span class="token punctuation">,</span> schema <span class="token operator">=</span> <span class="token annotation punctuation">@Schema</span><span class="token punctuation">(</span>implementation <span class="token operator">=</span> <span class="token class-name">List</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">,</span> required <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@ApiResponse</span><span class="token punctuation">(</span>content <span class="token operator">=</span> <span class="token annotation punctuation">@Content</span><span class="token punctuation">(</span>schema <span class="token operator">=</span> <span class="token annotation punctuation">@Schema</span><span class="token punctuation">(</span>implementation <span class="token operator">=</span> <span class="token class-name">Void</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">void</span> <span class="token function">deleteBooks</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Long</span><span class="token punctuation">&gt;</span></span> ids<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Operation</span><span class="token punctuation">(</span>tags <span class="token operator">=</span> <span class="token string">&quot;图书&quot;</span><span class="token punctuation">,</span> summary <span class="token operator">=</span> <span class="token string">&quot;查询图书详情&quot;</span><span class="token punctuation">,</span> description <span class="token operator">=</span> <span class="token string">&quot;查询图书详情接口&quot;</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@ApiResponse</span><span class="token punctuation">(</span>content <span class="token operator">=</span> <span class="token annotation punctuation">@Content</span><span class="token punctuation">(</span>mediaType <span class="token operator">=</span> <span class="token class-name">MediaType</span><span class="token punctuation">.</span><span class="token constant">APPLICATION_JSON_VALUE</span><span class="token punctuation">,</span> schema <span class="token operator">=</span> <span class="token annotation punctuation">@Schema</span><span class="token punctuation">(</span>implementation <span class="token operator">=</span> <span class="token class-name">BookVO</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token class-name">BookVO</span> <span class="token function">getBook</span><span class="token punctuation">(</span><span class="token class-name">Long</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Operation</span><span class="token punctuation">(</span>tags <span class="token operator">=</span> <span class="token string">&quot;图书&quot;</span><span class="token punctuation">,</span> summary <span class="token operator">=</span> <span class="token string">&quot;查询图书列表&quot;</span><span class="token punctuation">,</span> description <span class="token operator">=</span> <span class="token string">&quot;查询图书列表接口&quot;</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@Parameters</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token annotation punctuation">@Parameter</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> description <span class="token operator">=</span> <span class="token string">&quot;图书名称&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token annotation punctuation">@Parameter</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;price&quot;</span><span class="token punctuation">,</span> description <span class="token operator">=</span> <span class="token string">&quot;图书价格&quot;</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@ApiResponse</span><span class="token punctuation">(</span>content <span class="token operator">=</span> <span class="token annotation punctuation">@Content</span><span class="token punctuation">(</span>schema <span class="token operator">=</span> <span class="token annotation punctuation">@Schema</span><span class="token punctuation">(</span>implementation <span class="token operator">=</span> <span class="token class-name">List</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> description <span class="token operator">=</span> <span class="token string">&quot;返回图书列表&quot;</span><span class="token punctuation">)</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">BookVO</span><span class="token punctuation">&gt;</span></span> <span class="token function">getBooks</span><span class="token punctuation">(</span><span class="token class-name">Book</span> book<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>效果：</p><p><img src="`+o+'" alt=""></p>',28),u=[c];function l(i,k){return a(),s("div",null,u)}const d=n(e,[["render",l],["__file","SpringBoot集成Swagger.html.vue"]]);export{d as default};
