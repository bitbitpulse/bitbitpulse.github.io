import{_ as a,o as n,c as s,d as e}from"./app-HBA039kk.js";const t={},p=e(`<h1 id="springboot核心特性-actuator" tabindex="-1"><a class="header-anchor" href="#springboot核心特性-actuator"><span>SpringBoot核心特性-actuator</span></a></h1><p>参考：</p><ul><li>https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html</li></ul><p>Actuator可以通过HTTP或JMX来管理和监控应用程序的运行状态.</p><p>添加依赖</p><div class="language-xml" data-ext="xml" data-title="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="启用端点" tabindex="-1"><a class="header-anchor" href="#启用端点"><span>启用端点</span></a></h2><p>默认情况下, 除了<code>shutdown</code>以外, 其它所有端点默认启用.</p><p>启用所有端点</p><div class="language-properties" data-ext="properties" data-title="properties"><pre class="language-properties"><code><span class="token key attr-name">management.endpoints.enabled-by-default</span><span class="token punctuation">=</span><span class="token value attr-value">true</span>

<span class="token key attr-name">management.endpoint.shutdown.enabled</span><span class="token punctuation">=</span><span class="token value attr-value">true</span>
</code></pre></div><p>禁用所有端点, 并启用特定的端点</p><div class="language-properties" data-ext="properties" data-title="properties"><pre class="language-properties"><code><span class="token key attr-name">management.endpoints.enabled-by-default</span><span class="token punctuation">=</span><span class="token value attr-value">false</span>

<span class="token key attr-name">management.endpoint.health.enabled</span><span class="token punctuation">=</span><span class="token value attr-value">true</span>
<span class="token key attr-name">management.endpoint.info.enabled</span><span class="token punctuation">=</span><span class="token value attr-value">true</span>
</code></pre></div><h2 id="暴露端点" tabindex="-1"><a class="header-anchor" href="#暴露端点"><span>暴露端点</span></a></h2><p>启用端点后, 还需要暴露出去, 才能使用. 默认情况下, 只暴露 <code>health</code> 端点.</p><p>暴露端点使用<code>include</code> 和 <code>exclude</code></p><p>暴露JMX端点</p><div class="language-properties" data-ext="properties" data-title="properties"><pre class="language-properties"><code><span class="token key attr-name">management.endpoints.enabled-by-default</span><span class="token punctuation">=</span><span class="token value attr-value">true</span>

<span class="token key attr-name">management.endpoints.jmx.exposure.include</span><span class="token punctuation">=</span><span class="token value attr-value">health,info</span>
<span class="token key attr-name">management.endpoints.jmx.exposure.exclude</span><span class="token punctuation">=</span><span class="token value attr-value">info</span>
</code></pre></div><p>暴露HTTP端点</p><div class="language-properties" data-ext="properties" data-title="properties"><pre class="language-properties"><code><span class="token key attr-name">management.endpoints.enabled-by-default</span><span class="token punctuation">=</span><span class="token value attr-value">true</span>

<span class="token key attr-name">management.endpoints.web.exposure.include</span><span class="token punctuation">=</span><span class="token value attr-value">health,info,beans</span>
<span class="token key attr-name">management.endpoints.web.exposure.exclude</span><span class="token punctuation">=</span><span class="token value attr-value">info</span>
</code></pre></div><p>暴露所有端点, 然后排除指定端点</p><blockquote><p>注意: 如果使用yaml配置文件, 星号必须用引号包裹起来</p></blockquote><div class="language-properties" data-ext="properties" data-title="properties"><pre class="language-properties"><code><span class="token key attr-name">management.endpoints.enabled-by-default</span><span class="token punctuation">=</span><span class="token value attr-value">true</span>
<span class="token key attr-name">management.endpoint.shutdown.enabled</span><span class="token punctuation">=</span><span class="token value attr-value">true</span>

<span class="token key attr-name">management.endpoints.web.exposure.include</span><span class="token punctuation">=</span><span class="token value attr-value">*</span>
<span class="token key attr-name">management.endpoints.web.exposure.exclude</span><span class="token punctuation">=</span><span class="token value attr-value">beans,loggers</span>
</code></pre></div><h2 id="缓存端点信息" tabindex="-1"><a class="header-anchor" href="#缓存端点信息"><span>缓存端点信息</span></a></h2><p>使用<code>management.endpoint.&lt;endpoint&gt;.cache.time-to-live</code>配置端点的缓存时长</p><div class="language-java" data-ext="java" data-title="java"><pre class="language-java"><code>management<span class="token punctuation">.</span>endpoint<span class="token punctuation">.</span>info<span class="token punctuation">.</span>cache<span class="token punctuation">.</span>time<span class="token operator">-</span><span class="token keyword">to</span><span class="token operator">-</span>live<span class="token operator">=</span><span class="token number">10</span>s
management<span class="token punctuation">.</span>endpoint<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>cache<span class="token punctuation">.</span>time<span class="token operator">-</span><span class="token keyword">to</span><span class="token operator">-</span>live<span class="token operator">=</span><span class="token number">10</span>s
</code></pre></div>`,25),o=[p];function c(l,r){return n(),s("div",null,o)}const i=a(t,[["render",c],["__file","SpringBoot核心特性-Actuator.html.vue"]]);export{i as default};
