import{_ as e,o as s,c as a,d}from"./app-HBA039kk.js";const n={},t=d(`<h1 id="redis环境搭建" tabindex="-1"><a class="header-anchor" href="#redis环境搭建"><span>Redis环境搭建</span></a></h1><h2 id="安装redis" tabindex="-1"><a class="header-anchor" href="#安装redis"><span>安装Redis</span></a></h2><h3 id="windows" tabindex="-1"><a class="header-anchor" href="#windows"><span>Windows</span></a></h3><p>Redis官方没有提供Windows安装包，可以选择以下2种方式：</p><ol><li><p>microsoft提供的Redis的Windows版本</p><p>项目地址：https://github.com/microsoftarchive/redis/releases</p></li><li><p>使用WSL进行安装（推荐）</p></li></ol><h3 id="linux" tabindex="-1"><a class="header-anchor" href="#linux"><span>Linux</span></a></h3><p>安装依赖软件：<code>sudo apt install lsb-release curl gpg</code></p><p>执行以下命令</p><div class="language-bash" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-fsSL</span> https://packages.redis.io/gpg <span class="token operator">|</span> <span class="token function">sudo</span> gpg <span class="token parameter variable">--dearmor</span> <span class="token parameter variable">-o</span> /usr/share/keyrings/redis-archive-keyring.gpg

<span class="token builtin class-name">echo</span> <span class="token string">&quot;deb [signed-by=/usr/share/keyrings/redis-archive-keyring.gpg] https://packages.redis.io/deb <span class="token variable"><span class="token variable">$(</span>lsb_release <span class="token parameter variable">-cs</span><span class="token variable">)</span></span> main&quot;</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> /etc/apt/sources.list.d/redis.list

<span class="token function">sudo</span> <span class="token function">apt-get</span> update
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> redis
</code></pre></div><h3 id="docker" tabindex="-1"><a class="header-anchor" href="#docker"><span>Docker</span></a></h3><blockquote><p>docker hub地址：https://hub.docker.com/_/redis</p></blockquote><p>1.拉取镜像</p><p><code>docker pull redis:7.2.4</code></p><p>修改标签名</p><p><code>docker tag redis:7.2.4 redis:7 &amp;&amp; docker rmi redis:7.2.4</code></p><p>2.创建容器</p><p>2.1 准备redis配置文件</p><p><code>touch /docker/redis7/conf/redis.conf</code></p><div class="language-text" data-ext="text" data-title="text"><pre class="language-text"><code># redis配置参考 https://redis.io/docs/management/config/
# bind 192.168.1.100 10.0.0.1     # listens on two specific IPv4 addresses
# bind 127.0.0.1 ::1              # listens on loopback IPv4 and IPv6
# bind * -::*                     # like the default, all available interfaces

# protected-mode yes
# requirepass foobared

port 6379

# dir /data
</code></pre></div><p>2.2 创建容器</p><p><code>docker create --name redis7 -p 6379:6379 -v /docker/redis7/conf:/etc/redis -v /docker/redis7/data:/data redis:7 redis-server /etc/redis/redis.conf</code></p><p>参数说明：</p><ul><li><code>-p 6379:6379</code>：端口映射</li><li><code>-v /docker/redis7/conf:/etc/redis</code>：挂载redis配置目录</li><li><code>-v /docker/redis7/data:/data</code>：挂载redis数据目录</li></ul><p>3.启动容器</p><p><code>docker start redis7</code></p><p>4.进入容器</p><p><code>docker exec -it redis7 bash</code></p><p>在容器内测试本地连接</p><p><code>redis-cli</code></p><p>在Host机中连接</p><p><code>redis-cli -h 127.0.0.1 -p 6379</code></p><h2 id="安装redisinsight" tabindex="-1"><a class="header-anchor" href="#安装redisinsight"><span>安装RedisInsight</span></a></h2><p>https://redis.com/redis-enterprise/redis-insight/</p><h2 id="管理redis服务" tabindex="-1"><a class="header-anchor" href="#管理redis服务"><span>管理Redis服务</span></a></h2><p>查看Redis服务状态</p><p><code>sudo systemctl status redis-server</code></p><p>启动Redis服务</p><p><code>sudo systemctl start redis-server</code></p><p>停止Redis服务</p><p><code>sudo systemctl stop redis-server</code></p><h2 id="连接redis" tabindex="-1"><a class="header-anchor" href="#连接redis"><span>连接Redis</span></a></h2><p>使用redis-cli，或者使用RedisInsight图形界面工具</p><p><code>redis-cli</code></p><p><code>redis-cli -h &lt;hostname&gt; -p &lt;port&gt; -a &lt;password&gt;</code></p><h3 id="开启远程连接" tabindex="-1"><a class="header-anchor" href="#开启远程连接"><span>开启远程连接</span></a></h3><blockquote><p>确保Redis所在Host服务器可以被，且防火墙放开6379端口</p></blockquote><p>修改配置文件*/etc/redis.conf* ，有2种方式允许远程连接：</p><ol><li><p>关闭保护模式</p><div class="language-text" data-ext="text" data-title="text"><pre class="language-text"><code># bind 127.0.0.1 -::1
protected-mode no
</code></pre></div></li><li><p>开启保护模式，并设置密码</p><div class="language-text" data-ext="text" data-title="text"><pre class="language-text"><code># bind 127.0.0.1 -::1
protected-mode yes
requirepass foobared
</code></pre></div></li></ol>`,48),i=[t];function p(o,r){return s(),a("div",null,i)}const l=e(n,[["render",p],["__file","Redis环境搭建.html.vue"]]);export{l as default};
